<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <meta http-equiv="X-UA-Compatible" content="ie=edge" />
        <meta name="description" content="kevin f.'s personal site" />
        <link rel="shortcut icon" href="&#x2F;img&#x2F;favicon.png" type="image/x-icon" />
        <link rel="stylesheet" href="&#x2F;css&#x2F;main.css" />
        
        

        
          <link rel="alternate" type="application/atom+xml" title="RSS" href='&#x2F;atom.xml'>
        
        <title>
            
                Binding Mouse Button + Scroll Wheel to System Volume Control
            
        </title>
    </head>

    <body>
        <div class="dark-mode-container">
            <input id="darkSwitch" type="checkbox" />
            <label class="dark-mode-btn" for="darkSwitch">ðŸŒ’</label>
        </div>
        <main class="main-content max-width-3 mx-auto">
            <div>
                
    <div class="controls p1">
        <a href="https://github.com/kevinfiol/kevinfiol.com/edit/master/content/blog/binding-mouse-button-plus-scroll-wheel-to-system-volume-control-on-windows-or-ubuntu-linux.md">edit</a>
    </div>

    <header>
        <nav>
            <p class="h3">
                <a href="/">kevin f.</a>
            </p>
        </nav>
    </header>

    <small class="h5 p0 m0 light-subdue">
        January 22, 2021
    </small>

    <aside>
        
            
                <div class="toc h5 py1">
                    <div class="toc-header pb1">
                        <div class="h3">Binding Mouse Button + Scroll Wheel to System Volume Control (on Windows or Ubuntu Linux)</div>
                        <span class="light-subdue">table of contents</span>
                    </div>
                    <ul>
                        
                            <li>
                                <a href="#some-context" title="Some Context">Some Context</a>
                                
                            </li>
                        
                            <li>
                                <a href="#windows" title="Windows">Windows</a>
                                
                            </li>
                        
                            <li>
                                <a href="#linux" title="Linux">Linux</a>
                                
                            </li>
                        
                            <li>
                                <a href="#helpful-related-reading" title="Helpful related reading">Helpful related reading</a>
                                
                            </li>
                        
                    </ul>
                </div>
            
        
    </aside>

    <article class="page-content">
        <h1 id="binding-mouse-button-scroll-wheel-to-system-volume-control-on-windows-or-ubuntu-linux"><a class="zola-anchor" href="#binding-mouse-button-scroll-wheel-to-system-volume-control-on-windows-or-ubuntu-linux" aria-label="Anchor link for: binding-mouse-button-scroll-wheel-to-system-volume-control-on-windows-or-ubuntu-linux">#</a>Binding Mouse Button + Scroll Wheel to System Volume Control (on Windows or Ubuntu Linux)</h1>
<h2 id="some-context"><a class="zola-anchor" href="#some-context" aria-label="Anchor link for: some-context">#</a>Some Context</h2>
<p>About six years ago, I purchased a ROCCAT Savu gaming mouse to serve as my daily driver. The mouse itself was mediocre, but the bundled Windows-only software included a feature that I enabled on a whim that allowed the user to hold a button on the side of the mouse and use the scroll wheel to control the system volume. I didn't think much of the feature. A couple years later when my Savu finally died, I replaced it with a Logitech G203, only to find that controlling the system volume with the scroll wheel had become second nature.</p>
<h2 id="windows"><a class="zola-anchor" href="#windows" aria-label="Anchor link for: windows">#</a>Windows</h2>
<p>Fortunately, Logitech's software included ways to bind keys to mouse buttons, and using an <a href="https://gist.github.com/kevinfiol/e7a915a3ed6f1f3e6d5f745633b61617">Autohotkey script</a> to fake an <code>F13</code> key press, I was able to bind my mouse button to a non-existent key. Afterwards, I simply launch another <a href="https://gist.github.com/kevinfiol/9214d92033fc6a6784a607c97aa50838">Autohotkey script</a> on system startup to have system-wide volume control bound to my mouse.</p>
<h2 id="linux"><a class="zola-anchor" href="#linux" aria-label="Anchor link for: linux">#</a>Linux</h2>
<p>The state of consumer-grade peripheral software on Linux is getting better by the day, but still severely lacking compared to Windows. For the most part, you should be fine with <a href="https://github.com/libratbag/piper/">Piper</a> for your gaming mouse needs on Linux. However, Piper itself is insufficient for our goals.</p>
<p>In the end, I was able to achieve similar functionality to the Autohotkey script above using <code>xbindkeys</code> and <code>xdotool</code>, both of which you can install using your package manager:</p>
<pre style="background-color:#2b303b;">
<code class="language-bash" data-lang="bash"><span style="color:#65737e;"># Ubuntu
</span><span style="color:#bf616a;">sudo</span><span style="color:#c0c5ce;"> apt update
</span><span style="color:#bf616a;">sudo</span><span style="color:#c0c5ce;"> apt install xbindkeys xdotool
</span></code></pre>
<p>Create <code>~/.xbindkeysrc</code> in your home directory and paste:</p>
<pre style="background-color:#2b303b;">
<code><span style="color:#c0c5ce;">&quot;xdotool keydown ctrl&quot;
    b:8

&quot;xdotool keyup ctrl&quot;
    release + control + b:8

&quot;pactl -- set-sink-volume 0 -5%&quot;
    control + b:5

&quot;pactl -- set-sink-volume 0 +5%&quot;
    control + b:4
</span></code></pre>
<p>Run <code>killall xbindkeys &amp;&amp; xbindkeys</code> to restart xbindkeys.</p>
<p>A few things to note:</p>
<ul>
<li>
<p>You may find xbindkeys keycodes using <code>xbindkeys --key</code> or mouse button codes using <code>xev</code>.</p>
</li>
<li>
<p>I am binding the side button on my mouse <code>b:8</code> to the Control key on my keyboard using <code>xdotool</code>. This may or may not work for you if you already bind your Control key to something else. What this means in practice is that holding your mouse button is essentially like holding the Control key.</p>
<ul>
<li>This is a particular point of frustration on Linux, as it seems xbindkeys is very selective of what keys can be used as modifiers. The manpage lists <code>Release, Control, Shift, Mod1 (Alt), Mod2 (NumLock), Mod3 (CapsLock), Mod4 (Super), Mod5 (Scroll)</code> as available modifiers.</li>
</ul>
</li>
<li>
<p>The commands <code>pactl -- set-sink-volume 0 -5%</code> and <code>pactl -- set-sink-volume 0 +5%</code> assume you are using the PulseAudio sound driver. These commands may not work for you if you're using the ALSA sound driver, in which case, you may use commands like <code>amixer -q sset Master 5%-</code> and <code>amixer -q sset Master 5%+</code> respectively. If neither of these work, try <code>amixer -q -D pulse sset Master 5%+</code> and <code>amixer -q -D pulse sset Master 5%-</code>, or research how to control your master volume by command line on your system.</p>
</li>
</ul>
<h2 id="helpful-related-reading"><a class="zola-anchor" href="#helpful-related-reading" aria-label="Anchor link for: helpful-related-reading">#</a>Helpful related reading</h2>
<ul>
<li><a href="https://linux.die.net/man/1/xbindkeys">Xbindkeys manpage</a></li>
<li><a href="https://wiki.archlinux.org/index.php/Xbindkeys">ArchWiki article on xbindkeys</a></li>
<li><a href="https://askubuntu.com/questions/627555/how-to-map-modifiers-e-g-ctrl-to-mouse-thumb-buttons-using-xbindkeys">AskUbuntu question with helpful suggestions</a></li>
<li><a href="https://web.archive.org/web/20200107023614/https://blog.hanschen.org/2009/10/13/mouse-shortcuts-with-xbindkeys/">Helpful blog article on using mouse buttons with xbindkeys</a></li>
</ul>

    </article>

    <footer class="mt2">
        <small>
            <a href="#">return to top</a>
        </small>
    </footer>

            </div>
        </main>
        
        
        <script src="&#x2F;js&#x2F;dark-mode-switch.min.js"></script>
    </body>
</html>